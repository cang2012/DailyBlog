> 当数据多了以后会分库分表，现在假设把订单数据放在了10个数据库里，需要找出订单金额最大的前K条记录？

这是大顶堆或者说优先队列能胜任的场景。大致是：

- 从10个数据库中分别取出金额最大的订单
- 放到大顶堆上
- 堆顶节点就是全局金额最大的订单
- 把堆顶元素删除
- 再到堆顶元素所在的数据库中找第二大的记录放到大顶堆上来
- 现在大顶堆上的节点就是全局金额第二大的订单
- 以此类推

这里需要注意数据库读取的性能瓶颈。如果一次性读得太少，意味着频繁的读取；如果一次性读得太多，可能会导致速度慢、超时、Out Of Memory等情况。需要找一个合适的读取数量。

