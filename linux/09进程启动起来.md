当Linux内核启动起来，从实模式变成保护模式，用户态User Mode就有了，用户态如果想越级操作内核是不能直接操作的，需要通过"办事大厅"。大致过程如下：

**进程初始化**。创建第一个进程，也叫创始进程，0号进程，是唯一一个没有通过fork或者kernel_tread方法创建的进程，位于进程列表的第一个。

**办事大厅**。当用户态需要操作内核态Kernel Mode的时候，需要经过办事大厅。办事大厅有很多中断门Interrupt Gate,处理各种中断。这里面还有一个特殊的系统调用中断门，即系统调用需要经过这个中断门。64位操作系统有别的调用方式。

**内存管理**。用来管理内存的。

**进程管理**。无论是内核态还是用户态都有进程，需要对进程进行调度管理。、

**用户态1号进程**。这个是继0号进程即创始进程之后的在用户态的第一个进程。管理着一个树状的用户结构。系统不同的用户访问不同级别的资源。

**内核态2号进程**。这时内核态的第一个进程。

**用户态如何访问内核**？比如程序需要使用系统网卡发送一个网络包。大致过程这样：

- 用户态找到办事大厅暂停下来
- 系统保存用户态寄存器栈内的函数
- 办事大厅进行系统调用
- 内核态执行并把结果返回给办事大厅
- 系统恢复寄存器栈内函数
- 用户态继续运行

> 从进程来看，系统有一个创始进程，然后是用户态的头号进程，然后是内核态的头号进程。用户态和内核态的交互交给办事大厅。内存有专门的管理。